/*! liblax v0.1.0 | (c) JÎµan Sacren <sakiwit@gmail.com> | AGPL-3.0 1534040975669 */
window.jQuery(function(I){function b(e){var t,n;n=(n=e.split("/"))[n.length-1].split("-");for(var o=0;o<n.length&&(t=n[o],isNaN(t));o++);return t}function N(e,t){return e-t}function e(){I("form + div").html("Would you like to show overview page per lesson at any time?")}I("form").submit(function(){var y,e,t,n="https://mediafiles.uvu.edu/lib/pages.php";return e=n,t=["for-uvu","github","io"],n=window.location.hostname.split(".").every(function(e){return t.includes(e)})?e.replace("pages","pages-for-uvu"):e,I("form input").prop("disabled",!0),I("form + div").html("Pulling data, please wait..."),I.post(n,I(this).serialize(),function(e){var t,n=I("select option:selected").text().replace(/-/g," "),o=" students visited overview page.",i=parseInt(I("select option:selected").val()),r=/(week|lesson)-([1-9]|1[0-6])-overview|overview-(lesson|week)-([1-9]|1[0-6])/i,s=[],l={lessonId:[]};if(0!==(t=I.parseJSON(e)).length){for(y in t){var a,u=parseInt(t[y].course_id),d=parseInt(t[y].user_id),v=t[y].http_request_clean;u===i&&(s.some(function(e){return e===d})||s.push(d),r.test(v)&&(a=b(v),l.lessonId.some(function(e){return e===a})||l.lessonId.push(a),l.hasOwnProperty(a)?l[a].some(function(e){return e===d})||l[a].push(d):l[a]=[d]))}var f="",p=s.length,c=l.lessonId.length,m="<div>",h="</div>";if(0!==p)if(0!==c){for(y=0;y<c;y++){var w=l.lessonId.sort(N)[y],g=l[w].length;switch(g){case 0:f+=m+"Lesson "+w+":"+h,f+=m+"No "+o+h;break;case p:f+=m+"Lesson "+w+":"+h,f+=m+p+" or 100%"+o+h;break;default:f+=m+"Lesson "+w+":"+h,f+=m+g+" or "+(g/p*100).toPrecision(2)+"%"+o+h}}I("form + div").html(function(){return m+"At any time: "+n+h+("<article>"+f+"</article>")})}else I("form + div").html(function(){return m+"At any time: "+n+h+"<div>No student visited overview page of any lesson.</div>"});else I("form + div").html(function(){return m+"At any time: "+n+h+"<div>No enrollment.</div>"})}else I("form + div").html("No enrollment.")}).fail(function(){window.alert("Error: Pulling data!")}),!1}),I("form > select").change(function(){I("form input").prop("disabled",!1),e()}),e(),I("form input").val("Show Overview Anytime")});